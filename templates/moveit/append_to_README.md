

## General details about robot MoveIt2 packages

A moveit package holds config and launch files for robotic manipulation using MoveIt2.
It builds on description and bringup packages generated by `setup-robot-description` and `setup-robot-bringup`.

The general package structure is the following:

```
$PKG_NAME$/                           # Launch and config files for robot manipulation using MoveIt
├── [CMakeLists.txt]                               # if ament_cmake is used (recommended)
├── package.xml
├── [setup.py]                                     # if ament_python is used
├── [setup.cfg]                                    # if ament_python is used
├── config/
│   └── moveit/
│       ├── move_group_config.yaml                 # Various configuration needed for move_group_node: controllers, kinematics, action execution...
│       ├── moveit_controllers.yaml                # Controller manager configuration
│       ├── joint_limits.yaml                      # Joint limits overriding URDF
│       ├── kinematics.yaml                        # Kinematics solver configuration
│       ├── sensors_3d.yaml                        # Perception configuration
│       └── <planner>_planning.yaml                # Specific planner configuration (OMPL, Pilz, CHOMP, STOMP)
├── launch/
│   └── moveit.launch.xml                          # MoveIt launch file (or .py)
├── srdf/
│   ├── $CELL_NAME$_macro.srdf.xacro               # Semantic robot description macro (optional)
│   └── $CELL_NAME$.srdf.xacro                     # Semantic robot description required for MoveIt (optional)
└── rviz/
    ├── moveit.rviz                                # RViZ config with MoveIt MotionPlanning widget
    └── moveit_config.rviz                         # RViZ config for MoveIt setup assistant

```
## Compiling the package

To successfully compile and run this package, it is necessary to install `MoveIt`. For a simple binary install, [follow the official guide](https://moveit.ros.org/install-moveit2/binary/)

## Moving the *mock_robot* using MoveIt2

1. Start robot's hardware and load controllers (default configuration starts mock hardware)
   ```
   ros2 launch <bringup_pkg_name> $CELL_NAME$.launch.xml
   ```

2. Open another terminal and launch MoveIt
   ```
   ros2 launch $PKG_NAME$ moveit.launch.xml
   ```

3. You should now be able to use `MotionPlanning` widget in `rviz2` to assign, plan and execute robot motion.
